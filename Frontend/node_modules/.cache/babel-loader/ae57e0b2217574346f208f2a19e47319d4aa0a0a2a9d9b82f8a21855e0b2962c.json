{"ast":null,"code":"var _jsxFileName = \"F:\\\\Local disk c\\\\Session Web 2.0\\\\Frontend\\\\src\\\\pages\\\\ProfilePictureManager.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Image, CheckCircle, XCircle, AlertTriangle, Loader, User, ChevronRight, ChevronLeft } from 'lucide-react';\nimport FileUpload from '../components/FileUpload';\nimport { sessionAPI } from '../services/api';\nimport toast from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ProfilePictureManager = () => {\n  _s();\n  const [currentStep, setCurrentStep] = useState(1);\n  const [sessionFiles, setSessionFiles] = useState([]);\n  const [profilePicture, setProfilePicture] = useState(null);\n  const [selectedSessions, setSelectedSessions] = useState([]);\n  const [results, setResults] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [processingIndex, setProcessingIndex] = useState(-1);\n  const totalSteps = 4;\n  const handleSessionFilesSelected = selectedFiles => {\n    setSessionFiles(selectedFiles);\n    // Auto-select all sessions by default\n    setSelectedSessions(selectedFiles.map(file => file.name));\n    setResults([]);\n  };\n  const handleProfilePictureSelected = selectedFiles => {\n    if (selectedFiles.length > 0) {\n      setProfilePicture(selectedFiles[0]);\n      setResults([]);\n    }\n  };\n  const handleSessionSelectionChange = (filename, isSelected) => {\n    if (isSelected) {\n      setSelectedSessions(prev => [...prev, filename]);\n    } else {\n      setSelectedSessions(prev => prev.filter(name => name !== filename));\n    }\n  };\n  const handleSelectAllSessions = () => {\n    setSelectedSessions(sessionFiles.map(file => file.name));\n  };\n  const handleDeselectAllSessions = () => {\n    setSelectedSessions([]);\n  };\n  const getSelectedSessionFiles = () => {\n    return sessionFiles.filter(file => selectedSessions.includes(file.name));\n  };\n  const handleUpdateProfilePictures = async () => {\n    const selectedFiles = getSelectedSessionFiles();\n    if (selectedFiles.length === 0) {\n      toast.error('Please select at least one session to process');\n      return;\n    }\n    if (!profilePicture) {\n      toast.error('Please select a profile picture');\n      return;\n    }\n    setLoading(true);\n    setResults([]);\n    try {\n      // Process only selected sessions\n      const response = await sessionAPI.updateProfilePictures(selectedFiles, profilePicture);\n      console.log('Update profile pictures response:', response);\n      if (response && response.results) {\n        setResults(response.results);\n        const successCount = response.results.filter(r => r.status === 'success').length;\n        if (successCount > 0) {\n          toast.success(`Successfully updated ${successCount} of ${response.results.length} profile pictures`);\n        } else {\n          toast.error('Failed to update any profile pictures. Please check the errors below.');\n        }\n      } else {\n        toast.error('Received unexpected response format from server');\n        console.error('Unexpected response format:', response);\n      }\n    } catch (error) {\n      console.error('Profile picture update error:', error);\n      toast.error('Failed to update profile pictures: ' + (error.message || 'Unknown error'));\n\n      // Create error results for UI feedback\n      const errorResults = selectedFiles.map(file => ({\n        session: file.name,\n        status: 'error',\n        error: 'Request failed: ' + (error.message || 'Unknown error'),\n        error_type: 'request_failed',\n        user_id: null\n      }));\n      setResults(errorResults);\n    } finally {\n      setLoading(false);\n      setProcessingIndex(-1);\n    }\n  };\n  const nextStep = () => {\n    if (currentStep < totalSteps) {\n      setCurrentStep(currentStep + 1);\n    }\n  };\n  const prevStep = () => {\n    if (currentStep > 1) {\n      setCurrentStep(currentStep - 1);\n    }\n  };\n  const canProceedToNextStep = () => {\n    switch (currentStep) {\n      case 1:\n        return sessionFiles.length > 0;\n      case 2:\n        return profilePicture !== null;\n      case 3:\n        return selectedSessions.length > 0;\n      default:\n        return true;\n    }\n  };\n  const getStatusIcon = status => {\n    switch (status) {\n      case 'success':\n        return /*#__PURE__*/_jsxDEV(CheckCircle, {\n          className: \"h-5 w-5 text-green-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 16\n        }, this);\n      case 'error':\n        return /*#__PURE__*/_jsxDEV(XCircle, {\n          className: \"h-5 w-5 text-red-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 16\n        }, this);\n      case 'unauthorized':\n        return /*#__PURE__*/_jsxDEV(AlertTriangle, {\n          className: \"h-5 w-5 text-yellow-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 16\n        }, this);\n      case 'processing':\n        return /*#__PURE__*/_jsxDEV(Loader, {\n          className: \"h-5 w-5 text-blue-500 animate-spin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 16\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(AlertTriangle, {\n          className: \"h-5 w-5 text-gray-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 16\n        }, this);\n    }\n  };\n  const getStatusColor = status => {\n    switch (status) {\n      case 'success':\n        return 'bg-green-50 border-green-200';\n      case 'error':\n        return 'bg-red-50 border-red-200';\n      case 'unauthorized':\n        return 'bg-yellow-50 border-yellow-200';\n      case 'processing':\n        return 'bg-blue-50 border-blue-200';\n      default:\n        return 'bg-gray-50 border-gray-200';\n    }\n  };\n  const renderStepIndicator = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mb-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center space-x-4\",\n      children: Array.from({\n        length: totalSteps\n      }, (_, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `flex items-center justify-center w-10 h-10 rounded-full border-2 ${index + 1 < currentStep ? 'bg-green-500 border-green-500 text-white' : index + 1 === currentStep ? 'bg-blue-500 border-blue-500 text-white' : 'bg-gray-200 border-gray-300 text-gray-500'}`,\n          children: index + 1 < currentStep ? /*#__PURE__*/_jsxDEV(CheckCircle, {\n            className: \"h-5 w-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold\",\n            children: index + 1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 13\n        }, this), index < totalSteps - 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `w-16 h-0.5 mx-2 ${index + 1 < currentStep ? 'bg-green-500' : 'bg-gray-300'}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 15\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center mt-4\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-lg font-semibold text-gray-700\",\n        children: [currentStep === 1 && 'Step 1: Upload Session Files', currentStep === 2 && 'Step 2: Upload Profile Picture', currentStep === 3 && 'Step 3: Select Sessions to Process', currentStep === 4 && 'Step 4: Process and View Results']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 162,\n    columnNumber: 5\n  }, this);\n  const renderStep1 = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-lg font-semibold text-gray-900 mb-4\",\n      children: \"Upload Session Files\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FileUpload, {\n      onFilesSelected: handleSessionFilesSelected,\n      acceptedFileTypes: ['.session', '.zip'],\n      title: \"Upload Session Files or ZIP\",\n      description: \"Drag & drop session files or ZIP files here, or click to select files\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this), sessionFiles.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"font-medium text-gray-900 mb-2\",\n        children: \"Selected Files:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-gray-600\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [sessionFiles.length, \" session file(s) ready\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"mt-2 list-disc list-inside\",\n          children: [sessionFiles.slice(0, 5).map((file, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"truncate\",\n            children: file.name\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 17\n          }, this)), sessionFiles.length > 5 && /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [\"...and \", sessionFiles.length - 5, \" more\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 199,\n    columnNumber: 5\n  }, this);\n  const renderStep2 = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-lg font-semibold text-gray-900 mb-4\",\n      children: \"Upload Profile Picture\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"font-medium text-blue-900 mb-2\",\n        children: \"\\uD83D\\uDCCB Image Requirements:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"text-sm text-blue-800 space-y-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Formats:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 17\n          }, this), \" JPG, JPEG, PNG, GIF, BMP, WebP\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Max Size:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 17\n          }, this), \" 10MB (will be automatically compressed if needed)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Dimensions:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 17\n          }, this), \" Recommended 640x640 or larger (will be cropped to square)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Note:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 17\n          }, this), \" Images will be converted to JPEG format for optimal compatibility\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FileUpload, {\n      onFilesSelected: handleProfilePictureSelected,\n      acceptedFileTypes: ['.jpg', '.jpeg', '.png', '.gif', '.bmp', '.webp'],\n      multiple: false,\n      maxFiles: 1,\n      title: \"Upload Profile Picture\",\n      description: \"Drag & drop an image file here, or click to select\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 7\n    }, this), profilePicture && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-20 h-20 rounded-full overflow-hidden bg-white border-2 border-blue-300 flex items-center justify-center\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: URL.createObjectURL(profilePicture),\n            alt: \"Profile preview\",\n            className: \"w-full h-full object-cover\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-medium text-gray-900\",\n            children: \"Profile Picture Selected\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-600\",\n            children: profilePicture.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500 mt-1\",\n            children: [\"Size: \", (profilePicture.size / 1024).toFixed(1), \" KB\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-green-600 mt-1\",\n            children: \"\\u2713 Ready for processing\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 228,\n    columnNumber: 5\n  }, this);\n  const renderStep3 = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-lg font-semibold text-gray-900 mb-4\",\n      children: \"Select Sessions to Process\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-gray-600 mb-4\",\n      children: \"Choose which sessions you want to update with the profile picture. You can select all, deselect all, or pick individual sessions.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4 flex space-x-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSelectAllSessions,\n        className: \"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 text-sm\",\n        children: [\"Select All (\", sessionFiles.length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleDeselectAllSessions,\n        className: \"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 text-sm\",\n        children: \"Deselect All\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-3 max-h-96 overflow-y-auto\",\n      children: sessionFiles.map((file, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          id: `session-${index}`,\n          checked: selectedSessions.includes(file.name),\n          onChange: e => handleSessionSelectionChange(file.name, e.target.checked),\n          className: \"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: `session-${index}`,\n          className: \"flex-1 cursor-pointer\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium text-gray-900\",\n            children: file.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm text-gray-500 ml-2\",\n            children: [\"(\", (file.size / 1024).toFixed(1), \" KB)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 13\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 7\n    }, this), selectedSessions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-green-800 font-medium\",\n        children: [selectedSessions.length, \" session(s) selected for processing\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 278,\n    columnNumber: 5\n  }, this);\n  const renderStep4 = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card bg-blue-50 border-2 border-blue-500\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-bold text-center text-blue-800 mb-4\",\n        children: \"READY TO UPDATE PROFILE PICTURES\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-3 gap-4 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-2xl font-bold text-blue-600\",\n            children: selectedSessions.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-blue-700\",\n            children: \"Sessions Selected\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-2xl font-bold text-blue-600\",\n            children: profilePicture === null || profilePicture === void 0 ? void 0 : profilePicture.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-blue-700\",\n            children: \"Profile Picture\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-2xl font-bold text-blue-600\",\n            children: \"Ready\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-blue-700\",\n            children: \"Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6 flex justify-center\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleUpdateProfilePictures,\n          disabled: loading,\n          className: \"btn-primary bg-green-600 hover:bg-green-700 flex items-center space-x-2 px-10 py-4 text-xl rounded-lg shadow-md\",\n          children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Loader, {\n              className: \"h-6 w-6 animate-spin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"UPDATING PROFILE PICTURES...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(User, {\n              className: \"h-6 w-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"START UPDATE\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 7\n    }, this), (results.length > 0 || loading) && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-lg font-semibold text-gray-900 mb-4\",\n        children: [loading ? 'Live Processing Status' : 'Update Results', \" (\", results.length, \" sessions)\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: results.map((result, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `p-4 rounded-lg border ${getStatusColor(result.status)}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-3\",\n              children: [getStatusIcon(result.status), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"font-medium text-gray-900\",\n                  children: result.session\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 388,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-600\",\n                  children: [\"Status: \", result.status.charAt(0).toUpperCase() + result.status.slice(1), result.status === 'processing' && ' - Setting profile picture...']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 389,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 387,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 19\n            }, this), result.status === 'success' && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-right\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm font-medium text-gray-900\",\n                children: [\"User ID: \", result.user_id]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 398,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: [\"Profile Picture: \", result.profile_picture]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 17\n          }, this), result.status === 'error' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm font-medium text-gray-900\",\n              children: [\"Error: \", result.error]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 21\n            }, this), result.error_type && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-600 mt-1\",\n              children: [\"Type: \", result.error_type]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 414,\n              columnNumber: 23\n            }, this), result.error_type === 'photo_error' && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded text-xs text-yellow-800\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-medium\",\n                children: \"\\uD83D\\uDCA1 Image Processing Tips:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 420,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"mt-1 space-y-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"\\u2022 Use JPG, PNG, or GIF format\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 422,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"\\u2022 Keep file size under 10MB\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 423,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"\\u2022 Use square images (1:1 ratio) for best results\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 424,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"\\u2022 Avoid very small images (under 200x200 pixels)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 425,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 421,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 419,\n              columnNumber: 23\n            }, this), result.raw_error && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500 mt-1\",\n              children: [\"Technical details: \", result.raw_error]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 19\n          }, this), result.status === 'unauthorized' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-3\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600\",\n              children: \"This session is not authorized. Please check if the session file is valid.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 439,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 438,\n            columnNumber: 19\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 11\n      }, this), results.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6 p-4 bg-gray-50 rounded-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-medium text-gray-900 mb-2\",\n          children: \"Summary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 gap-4 text-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-600\",\n              children: \"Total Sessions:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 454,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ml-2 font-medium\",\n              children: results.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-600\",\n              children: \"Successfully Updated:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 458,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ml-2 font-medium text-green-600\",\n              children: results.filter(r => r.status === 'success').length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 459,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 457,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-600\",\n              children: \"Errors:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 464,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ml-2 font-medium text-red-600\",\n              children: results.filter(r => r.status === 'error').length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 465,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 463,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-600\",\n              children: \"Unauthorized:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 470,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ml-2 font-medium text-yellow-600\",\n              children: results.filter(r => r.status === 'unauthorized').length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 469,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 450,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 331,\n    columnNumber: 5\n  }, this);\n  const renderCurrentStep = () => {\n    switch (currentStep) {\n      case 1:\n        return renderStep1();\n      case 2:\n        return renderStep2();\n      case 3:\n        return renderStep3();\n      case 4:\n        return renderStep4();\n      default:\n        return null;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center space-x-3\",\n      children: [/*#__PURE__*/_jsxDEV(Image, {\n        className: \"h-8 w-8 text-telegram-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 502,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl font-bold text-gray-900\",\n          children: \"Profile Picture Manager\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 504,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Set profile pictures for multiple accounts step by step\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 505,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 503,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 501,\n      columnNumber: 7\n    }, this), renderStepIndicator(), renderCurrentStep(), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center pt-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: prevStep,\n        disabled: currentStep === 1,\n        className: `flex items-center space-x-2 px-4 py-2 rounded-lg ${currentStep === 1 ? 'bg-gray-300 text-gray-500 cursor-not-allowed' : 'bg-gray-500 text-white hover:bg-gray-600'}`,\n        children: [/*#__PURE__*/_jsxDEV(ChevronLeft, {\n          className: \"h-4 w-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 526,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Previous\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 527,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 517,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-gray-600\",\n        children: [\"Step \", currentStep, \" of \", totalSteps]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 530,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: nextStep,\n        disabled: !canProceedToNextStep() || currentStep === totalSteps,\n        className: `flex items-center space-x-2 px-4 py-2 rounded-lg ${!canProceedToNextStep() || currentStep === totalSteps ? 'bg-gray-300 text-gray-500 cursor-not-allowed' : 'bg-blue-500 text-white hover:bg-blue-600'}`,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 543,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ChevronRight, {\n          className: \"h-4 w-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 544,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 534,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 516,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 499,\n    columnNumber: 5\n  }, this);\n};\n_s(ProfilePictureManager, \"DOkBELEKZ5WDIDNiSpI/vzmhl6o=\");\n_c = ProfilePictureManager;\nexport default ProfilePictureManager;\nvar _c;\n$RefreshReg$(_c, \"ProfilePictureManager\");","map":{"version":3,"names":["React","useState","Image","CheckCircle","XCircle","AlertTriangle","Loader","User","ChevronRight","ChevronLeft","FileUpload","sessionAPI","toast","jsxDEV","_jsxDEV","Fragment","_Fragment","ProfilePictureManager","_s","currentStep","setCurrentStep","sessionFiles","setSessionFiles","profilePicture","setProfilePicture","selectedSessions","setSelectedSessions","results","setResults","loading","setLoading","processingIndex","setProcessingIndex","totalSteps","handleSessionFilesSelected","selectedFiles","map","file","name","handleProfilePictureSelected","length","handleSessionSelectionChange","filename","isSelected","prev","filter","handleSelectAllSessions","handleDeselectAllSessions","getSelectedSessionFiles","includes","handleUpdateProfilePictures","error","response","updateProfilePictures","console","log","successCount","r","status","success","message","errorResults","session","error_type","user_id","nextStep","prevStep","canProceedToNextStep","getStatusIcon","className","fileName","_jsxFileName","lineNumber","columnNumber","getStatusColor","renderStepIndicator","children","Array","from","_","index","renderStep1","onFilesSelected","acceptedFileTypes","title","description","slice","renderStep2","multiple","maxFiles","src","URL","createObjectURL","alt","size","toFixed","renderStep3","onClick","type","id","checked","onChange","e","target","htmlFor","renderStep4","disabled","result","charAt","toUpperCase","profile_picture","raw_error","renderCurrentStep","_c","$RefreshReg$"],"sources":["F:/Local disk c/Session Web 2.0/Frontend/src/pages/ProfilePictureManager.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Image, CheckCircle, XCircle, AlertTriangle, Loader, User, ChevronRight, ChevronLeft } from 'lucide-react';\r\nimport FileUpload from '../components/FileUpload';\r\nimport { sessionAPI } from '../services/api';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst ProfilePictureManager = () => {\r\n  const [currentStep, setCurrentStep] = useState(1);\r\n  const [sessionFiles, setSessionFiles] = useState([]);\r\n  const [profilePicture, setProfilePicture] = useState(null);\r\n  const [selectedSessions, setSelectedSessions] = useState([]);\r\n  const [results, setResults] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [processingIndex, setProcessingIndex] = useState(-1);\r\n\r\n  const totalSteps = 4;\r\n\r\n  const handleSessionFilesSelected = (selectedFiles) => {\r\n    setSessionFiles(selectedFiles);\r\n    // Auto-select all sessions by default\r\n    setSelectedSessions(selectedFiles.map(file => file.name));\r\n    setResults([]);\r\n  };\r\n\r\n  const handleProfilePictureSelected = (selectedFiles) => {\r\n    if (selectedFiles.length > 0) {\r\n      setProfilePicture(selectedFiles[0]);\r\n      setResults([]);\r\n    }\r\n  };\r\n\r\n  const handleSessionSelectionChange = (filename, isSelected) => {\r\n    if (isSelected) {\r\n      setSelectedSessions(prev => [...prev, filename]);\r\n    } else {\r\n      setSelectedSessions(prev => prev.filter(name => name !== filename));\r\n    }\r\n  };\r\n\r\n  const handleSelectAllSessions = () => {\r\n    setSelectedSessions(sessionFiles.map(file => file.name));\r\n  };\r\n\r\n  const handleDeselectAllSessions = () => {\r\n    setSelectedSessions([]);\r\n  };\r\n\r\n  const getSelectedSessionFiles = () => {\r\n    return sessionFiles.filter(file => selectedSessions.includes(file.name));\r\n  };\r\n\r\n  const handleUpdateProfilePictures = async () => {\r\n    const selectedFiles = getSelectedSessionFiles();\r\n    \r\n    if (selectedFiles.length === 0) {\r\n      toast.error('Please select at least one session to process');\r\n      return;\r\n    }\r\n\r\n    if (!profilePicture) {\r\n      toast.error('Please select a profile picture');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setResults([]);\r\n    \r\n    try {\r\n      // Process only selected sessions\r\n      const response = await sessionAPI.updateProfilePictures(selectedFiles, profilePicture);\r\n      console.log('Update profile pictures response:', response);\r\n      \r\n      if (response && response.results) {\r\n        setResults(response.results);\r\n        \r\n        const successCount = response.results.filter(r => r.status === 'success').length;\r\n        if (successCount > 0) {\r\n          toast.success(`Successfully updated ${successCount} of ${response.results.length} profile pictures`);\r\n        } else {\r\n          toast.error('Failed to update any profile pictures. Please check the errors below.');\r\n        }\r\n      } else {\r\n        toast.error('Received unexpected response format from server');\r\n        console.error('Unexpected response format:', response);\r\n      }\r\n    } catch (error) {\r\n      console.error('Profile picture update error:', error);\r\n      toast.error('Failed to update profile pictures: ' + (error.message || 'Unknown error'));\r\n      \r\n      // Create error results for UI feedback\r\n      const errorResults = selectedFiles.map(file => ({\r\n        session: file.name,\r\n        status: 'error',\r\n        error: 'Request failed: ' + (error.message || 'Unknown error'),\r\n        error_type: 'request_failed',\r\n        user_id: null\r\n      }));\r\n      \r\n      setResults(errorResults);\r\n    } finally {\r\n      setLoading(false);\r\n      setProcessingIndex(-1);\r\n    }\r\n  };\r\n\r\n  const nextStep = () => {\r\n    if (currentStep < totalSteps) {\r\n      setCurrentStep(currentStep + 1);\r\n    }\r\n  };\r\n\r\n  const prevStep = () => {\r\n    if (currentStep > 1) {\r\n      setCurrentStep(currentStep - 1);\r\n    }\r\n  };\r\n\r\n  const canProceedToNextStep = () => {\r\n    switch (currentStep) {\r\n      case 1:\r\n        return sessionFiles.length > 0;\r\n      case 2:\r\n        return profilePicture !== null;\r\n      case 3:\r\n        return selectedSessions.length > 0;\r\n      default:\r\n        return true;\r\n    }\r\n  };\r\n\r\n  const getStatusIcon = (status) => {\r\n    switch (status) {\r\n      case 'success':\r\n        return <CheckCircle className=\"h-5 w-5 text-green-500\" />;\r\n      case 'error':\r\n        return <XCircle className=\"h-5 w-5 text-red-500\" />;\r\n      case 'unauthorized':\r\n        return <AlertTriangle className=\"h-5 w-5 text-yellow-500\" />;\r\n      case 'processing':\r\n        return <Loader className=\"h-5 w-5 text-blue-500 animate-spin\" />;\r\n      default:\r\n        return <AlertTriangle className=\"h-5 w-5 text-gray-500\" />;\r\n    }\r\n  };\r\n\r\n  const getStatusColor = (status) => {\r\n    switch (status) {\r\n      case 'success':\r\n        return 'bg-green-50 border-green-200';\r\n      case 'error':\r\n        return 'bg-red-50 border-red-200';\r\n      case 'unauthorized':\r\n        return 'bg-yellow-50 border-yellow-200';\r\n      case 'processing':\r\n        return 'bg-blue-50 border-blue-200';\r\n      default:\r\n        return 'bg-gray-50 border-gray-200';\r\n    }\r\n  };\r\n\r\n  const renderStepIndicator = () => (\r\n    <div className=\"mb-8\">\r\n      <div className=\"flex items-center justify-center space-x-4\">\r\n        {Array.from({ length: totalSteps }, (_, index) => (\r\n          <div key={index} className=\"flex items-center\">\r\n            <div className={`flex items-center justify-center w-10 h-10 rounded-full border-2 ${\r\n              index + 1 < currentStep \r\n                ? 'bg-green-500 border-green-500 text-white' \r\n                : index + 1 === currentStep \r\n                ? 'bg-blue-500 border-blue-500 text-white' \r\n                : 'bg-gray-200 border-gray-300 text-gray-500'\r\n            }`}>\r\n              {index + 1 < currentStep ? (\r\n                <CheckCircle className=\"h-5 w-5\" />\r\n              ) : (\r\n                <span className=\"font-semibold\">{index + 1}</span>\r\n              )}\r\n            </div>\r\n            {index < totalSteps - 1 && (\r\n              <div className={`w-16 h-0.5 mx-2 ${\r\n                index + 1 < currentStep ? 'bg-green-500' : 'bg-gray-300'\r\n              }`} />\r\n            )}\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <div className=\"text-center mt-4\">\r\n        <p className=\"text-lg font-semibold text-gray-700\">\r\n          {currentStep === 1 && 'Step 1: Upload Session Files'}\r\n          {currentStep === 2 && 'Step 2: Upload Profile Picture'}\r\n          {currentStep === 3 && 'Step 3: Select Sessions to Process'}\r\n          {currentStep === 4 && 'Step 4: Process and View Results'}\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderStep1 = () => (\r\n    <div className=\"card\">\r\n      <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Upload Session Files</h2>\r\n      <FileUpload\r\n        onFilesSelected={handleSessionFilesSelected}\r\n        acceptedFileTypes={['.session', '.zip']}\r\n        title=\"Upload Session Files or ZIP\"\r\n        description=\"Drag & drop session files or ZIP files here, or click to select files\"\r\n      />\r\n      \r\n      {sessionFiles.length > 0 && (\r\n        <div className=\"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg\">\r\n          <h3 className=\"font-medium text-gray-900 mb-2\">Selected Files:</h3>\r\n          <div className=\"text-sm text-gray-600\">\r\n            <p>{sessionFiles.length} session file(s) ready</p>\r\n            <ul className=\"mt-2 list-disc list-inside\">\r\n              {sessionFiles.slice(0, 5).map((file, index) => (\r\n                <li key={index} className=\"truncate\">{file.name}</li>\r\n              ))}\r\n              {sessionFiles.length > 5 && (\r\n                <li>...and {sessionFiles.length - 5} more</li>\r\n              )}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n\r\n  const renderStep2 = () => (\r\n    <div className=\"card\">\r\n      <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Upload Profile Picture</h2>\r\n      \r\n      {/* Image Requirements Info */}\r\n      <div className=\"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg\">\r\n        <h3 className=\"font-medium text-blue-900 mb-2\">📋 Image Requirements:</h3>\r\n        <ul className=\"text-sm text-blue-800 space-y-1\">\r\n          <li>• <strong>Formats:</strong> JPG, JPEG, PNG, GIF, BMP, WebP</li>\r\n          <li>• <strong>Max Size:</strong> 10MB (will be automatically compressed if needed)</li>\r\n          <li>• <strong>Dimensions:</strong> Recommended 640x640 or larger (will be cropped to square)</li>\r\n          <li>• <strong>Note:</strong> Images will be converted to JPEG format for optimal compatibility</li>\r\n        </ul>\r\n      </div>\r\n      \r\n      <FileUpload\r\n        onFilesSelected={handleProfilePictureSelected}\r\n        acceptedFileTypes={['.jpg', '.jpeg', '.png', '.gif', '.bmp', '.webp']}\r\n        multiple={false}\r\n        maxFiles={1}\r\n        title=\"Upload Profile Picture\"\r\n        description=\"Drag & drop an image file here, or click to select\"\r\n      />\r\n      \r\n      {profilePicture && (\r\n        <div className=\"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg\">\r\n          <div className=\"flex items-center space-x-4\">\r\n            <div className=\"w-20 h-20 rounded-full overflow-hidden bg-white border-2 border-blue-300 flex items-center justify-center\">\r\n              <img\r\n                src={URL.createObjectURL(profilePicture)}\r\n                alt=\"Profile preview\"\r\n                className=\"w-full h-full object-cover\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <h3 className=\"font-medium text-gray-900\">Profile Picture Selected</h3>\r\n              <p className=\"text-sm text-gray-600\">{profilePicture.name}</p>\r\n              <p className=\"text-xs text-gray-500 mt-1\">\r\n                Size: {(profilePicture.size / 1024).toFixed(1)} KB\r\n              </p>\r\n              <p className=\"text-xs text-green-600 mt-1\">\r\n                ✓ Ready for processing\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n\r\n  const renderStep3 = () => (\r\n    <div className=\"card\">\r\n      <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Select Sessions to Process</h2>\r\n      <p className=\"text-gray-600 mb-4\">\r\n        Choose which sessions you want to update with the profile picture. \r\n        You can select all, deselect all, or pick individual sessions.\r\n      </p>\r\n      \r\n      <div className=\"mb-4 flex space-x-3\">\r\n        <button\r\n          onClick={handleSelectAllSessions}\r\n          className=\"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 text-sm\"\r\n        >\r\n          Select All ({sessionFiles.length})\r\n        </button>\r\n        <button\r\n          onClick={handleDeselectAllSessions}\r\n          className=\"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 text-sm\"\r\n        >\r\n          Deselect All\r\n        </button>\r\n      </div>\r\n      \r\n      <div className=\"space-y-3 max-h-96 overflow-y-auto\">\r\n        {sessionFiles.map((file, index) => (\r\n          <div key={index} className=\"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50\">\r\n            <input\r\n              type=\"checkbox\"\r\n              id={`session-${index}`}\r\n              checked={selectedSessions.includes(file.name)}\r\n              onChange={(e) => handleSessionSelectionChange(file.name, e.target.checked)}\r\n              className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\r\n            />\r\n            <label htmlFor={`session-${index}`} className=\"flex-1 cursor-pointer\">\r\n              <span className=\"font-medium text-gray-900\">{file.name}</span>\r\n              <span className=\"text-sm text-gray-500 ml-2\">\r\n                ({(file.size / 1024).toFixed(1)} KB)\r\n              </span>\r\n            </label>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      \r\n      {selectedSessions.length > 0 && (\r\n        <div className=\"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg\">\r\n          <p className=\"text-green-800 font-medium\">\r\n            {selectedSessions.length} session(s) selected for processing\r\n          </p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n\r\n  const renderStep4 = () => (\r\n    <div className=\"space-y-6\">\r\n      {/* Summary Card */}\r\n      <div className=\"card bg-blue-50 border-2 border-blue-500\">\r\n        <h2 className=\"text-xl font-bold text-center text-blue-800 mb-4\">READY TO UPDATE PROFILE PICTURES</h2>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 text-center\">\r\n          <div>\r\n            <p className=\"text-2xl font-bold text-blue-600\">{selectedSessions.length}</p>\r\n            <p className=\"text-sm text-blue-700\">Sessions Selected</p>\r\n          </div>\r\n          <div>\r\n            <p className=\"text-2xl font-bold text-blue-600\">{profilePicture?.name}</p>\r\n            <p className=\"text-sm text-blue-700\">Profile Picture</p>\r\n          </div>\r\n          <div>\r\n            <p className=\"text-2xl font-bold text-blue-600\">Ready</p>\r\n            <p className=\"text-sm text-blue-700\">Status</p>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"mt-6 flex justify-center\">\r\n          <button\r\n            onClick={handleUpdateProfilePictures}\r\n            disabled={loading}\r\n            className=\"btn-primary bg-green-600 hover:bg-green-700 flex items-center space-x-2 px-10 py-4 text-xl rounded-lg shadow-md\"\r\n          >\r\n            {loading ? (\r\n              <>\r\n                <Loader className=\"h-6 w-6 animate-spin\" />\r\n                <span>UPDATING PROFILE PICTURES...</span>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <User className=\"h-6 w-6\" />\r\n                <span>START UPDATE</span>\r\n              </>\r\n            )}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Results */}\r\n      {(results.length > 0 || loading) && (\r\n        <div className=\"card\">\r\n          <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">\r\n            {loading ? 'Live Processing Status' : 'Update Results'} ({results.length} sessions)\r\n          </h2>\r\n          \r\n          <div className=\"space-y-4\">\r\n            {results.map((result, index) => (\r\n              <div\r\n                key={index}\r\n                className={`p-4 rounded-lg border ${getStatusColor(result.status)}`}\r\n              >\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div className=\"flex items-center space-x-3\">\r\n                    {getStatusIcon(result.status)}\r\n                    <div>\r\n                      <h3 className=\"font-medium text-gray-900\">{result.session}</h3>\r\n                      <p className=\"text-sm text-gray-600\">\r\n                        Status: {result.status.charAt(0).toUpperCase() + result.status.slice(1)}\r\n                        {result.status === 'processing' && ' - Setting profile picture...'}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  {result.status === 'success' && (\r\n                    <div className=\"text-right\">\r\n                      <p className=\"text-sm font-medium text-gray-900\">\r\n                        User ID: {result.user_id}\r\n                      </p>\r\n                      <p className=\"text-sm text-gray-600\">\r\n                        Profile Picture: {result.profile_picture}\r\n                      </p>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {result.status === 'error' && (\r\n                  <div className=\"mt-3\">\r\n                    <p className=\"text-sm font-medium text-gray-900\">\r\n                      Error: {result.error}\r\n                    </p>\r\n                    {result.error_type && (\r\n                      <p className=\"text-xs text-gray-600 mt-1\">\r\n                        Type: {result.error_type}\r\n                      </p>\r\n                    )}\r\n                    {result.error_type === 'photo_error' && (\r\n                      <div className=\"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded text-xs text-yellow-800\">\r\n                        <p className=\"font-medium\">💡 Image Processing Tips:</p>\r\n                        <ul className=\"mt-1 space-y-1\">\r\n                          <li>• Use JPG, PNG, or GIF format</li>\r\n                          <li>• Keep file size under 10MB</li>\r\n                          <li>• Use square images (1:1 ratio) for best results</li>\r\n                          <li>• Avoid very small images (under 200x200 pixels)</li>\r\n                        </ul>\r\n                      </div>\r\n                    )}\r\n                    {result.raw_error && (\r\n                      <p className=\"text-xs text-gray-500 mt-1\">\r\n                        Technical details: {result.raw_error}\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                )}\r\n\r\n                {result.status === 'unauthorized' && (\r\n                  <div className=\"mt-3\">\r\n                    <p className=\"text-sm text-gray-600\">\r\n                      This session is not authorized. Please check if the session file is valid.\r\n                    </p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          {/* Summary */}\r\n          {results.length > 0 && (\r\n            <div className=\"mt-6 p-4 bg-gray-50 rounded-lg\">\r\n              <h3 className=\"font-medium text-gray-900 mb-2\">Summary</h3>\r\n              <div className=\"grid grid-cols-2 gap-4 text-sm\">\r\n                <div>\r\n                  <span className=\"text-gray-600\">Total Sessions:</span>\r\n                  <span className=\"ml-2 font-medium\">{results.length}</span>\r\n                </div>\r\n                <div>\r\n                  <span className=\"text-gray-600\">Successfully Updated:</span>\r\n                  <span className=\"ml-2 font-medium text-green-600\">\r\n                    {results.filter(r => r.status === 'success').length}\r\n                  </span>\r\n                </div>\r\n                <div>\r\n                  <span className=\"text-gray-600\">Errors:</span>\r\n                  <span className=\"ml-2 font-medium text-red-600\">\r\n                    {results.filter(r => r.status === 'error').length}\r\n                  </span>\r\n                </div>\r\n                <div>\r\n                  <span className=\"text-gray-600\">Unauthorized:</span>\r\n                  <span className=\"ml-2 font-medium text-yellow-600\">\r\n                    {results.filter(r => r.status === 'unauthorized').length}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n\r\n  const renderCurrentStep = () => {\r\n    switch (currentStep) {\r\n      case 1:\r\n        return renderStep1();\r\n      case 2:\r\n        return renderStep2();\r\n      case 3:\r\n        return renderStep3();\r\n      case 4:\r\n        return renderStep4();\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center space-x-3\">\r\n        <Image className=\"h-8 w-8 text-telegram-500\" />\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold text-gray-900\">Profile Picture Manager</h1>\r\n          <p className=\"text-gray-600\">Set profile pictures for multiple accounts step by step</p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Step Indicator */}\r\n      {renderStepIndicator()}\r\n\r\n      {/* Current Step Content */}\r\n      {renderCurrentStep()}\r\n\r\n      {/* Navigation Buttons */}\r\n      <div className=\"flex justify-between items-center pt-6\">\r\n        <button\r\n          onClick={prevStep}\r\n          disabled={currentStep === 1}\r\n          className={`flex items-center space-x-2 px-4 py-2 rounded-lg ${\r\n            currentStep === 1\r\n              ? 'bg-gray-300 text-gray-500 cursor-not-allowed'\r\n              : 'bg-gray-500 text-white hover:bg-gray-600'\r\n          }`}\r\n        >\r\n          <ChevronLeft className=\"h-4 w-4\" />\r\n          <span>Previous</span>\r\n        </button>\r\n\r\n        <div className=\"text-sm text-gray-600\">\r\n          Step {currentStep} of {totalSteps}\r\n        </div>\r\n\r\n        <button\r\n          onClick={nextStep}\r\n          disabled={!canProceedToNextStep() || currentStep === totalSteps}\r\n          className={`flex items-center space-x-2 px-4 py-2 rounded-lg ${\r\n            !canProceedToNextStep() || currentStep === totalSteps\r\n              ? 'bg-gray-300 text-gray-500 cursor-not-allowed'\r\n              : 'bg-blue-500 text-white hover:bg-blue-600'\r\n          }`}\r\n        >\r\n          <span>Next</span>\r\n          <ChevronRight className=\"h-4 w-4\" />\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfilePictureManager;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}